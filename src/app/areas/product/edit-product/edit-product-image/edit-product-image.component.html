<div class="card" *ngIf="productImageDetails && productImageDetails?.productImages!.length > 1">
  <div class="card-header">
    <button class="btn btn-primary float-right" (click)="onCloseEditImage()" title="Quay về trang chỉnh sửa">
      <i class="fas fa-backward"></i> Quay về
    </button>
  </div>
  <app-loading-overlay *ngIf="showOverlay"></app-loading-overlay>
  <div class="card-body">
    <div class="form-group">
      <label>Tên sản phẩm</label>
      <input type="text" value="{{productImageDetails?.productName}}" readonly class="form-control" />
    </div>
    <div class="form-group">
      <label>Ảnh Sản Phẩm</label>
      <div class="row">
        <div class="col-3" *ngFor="let img of editProdImages; index as i">
          <div class="card">
            <div class="card-tools">
              <button class="btn btn-danger" (click)="onDeleteProductImage(productImageDetails.productImages[i])">
                <i class="fas fa-trash"></i>
              </button>
              <img style="max-width: 100%; height:auto" [src]="img">
              <div class="file-upload-wrapper" data-text="Chọn ảnh mới!">
                <input type="file" class="file-upload-field" (change)="editFileProgress($event, i)" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="card-footer">
    <button type="button" class="btn btn-primary float-right" (click)="onEditProductImages()">Save Changes</button>
  </div>
</div>

<!-- Add New Product Images -->
<div class="card" *ngIf="productImageDetails && productImageDetails?.productImages!.length < 2">
  <div class="card-header">
    <button class="btn btn-primary float-right" (click)="onCloseEditImage()" title="Quay về trang chỉnh sửa">
      <i class="fas fa-backward"></i> Quay về
    </button>
  </div>
  <app-loading-overlay *ngIf="showOverlay"></app-loading-overlay>
  <div class="card-body">
    <div class="form-group">
      <label>Tên sản phẩm</label>
      <input type="text" value="{{productImageDetails?.productName}}" readonly class="form-control" />
    </div>
    <div class="row">
      <div class="col-6" style="border-right: 1px solid #ced4da;">
        <div class="form-group">
          <label>Ảnh Sản Phẩm</label>
          <div class="file-upload-wrapper" data-text="Chọn ảnh mới!">
            <input type="file" class="file-upload-field" multiple (change)="fileProgress($event)" />
          </div>
        </div>
      </div>
      <div class="col-6">
        <div *ngIf="previewUrl">
          <div class="row">
            <div class="col-6" *ngFor="let img of previewUrl">
              <img class="img-fluid pad" [src]="img" alt="Product Image" style="width: 100%; height: auto;" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="card-footer">
    <button type="button" (click)="onAddProductImages(productImageDetails?.productId!)"
      class="btn btn-primary float-right">Save Changes</button>
  </div>
</div>
